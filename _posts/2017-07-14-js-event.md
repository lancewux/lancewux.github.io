<h1 align="center"> Javascript 事件</h1>

事件的三个阶段
-

- 捕获：事件由页面元素接收，逐级向下，到具体的元素
- 目标：具体的元素本身
- 冒泡：跟捕获相反，具体元素本身，逐级向上，到页面元素

事件绑定
-

事件触发顺序

事件捕获：当使用事件捕获时，父级元素先触发，子元素后触发

事件冒泡：当使用事件冒泡时，子级元素先触发，父元素后触发

W3C：任何事件发生时，先从顶层开始进行事件捕获，直到事件触发到达事件源，再从事件源向上进行事件捕获

element.addEventListener(event, function, useCapture)

event是绑定的事件，比如‘click’。function的第一个参数是事件对象，useCapture的默认值为false，事件句柄在冒泡阶段执行，true表示事件句柄在捕获阶段执行。是标准的绑定事件监听函数的方法，是W3C所支持的，Chrome、FireFox、Opera、Safari、IE9.0及其以上版本都支持该函数。

element.attachEvent(event, function)

event是绑定的事件，比如‘onclick’。IE8.0及其以下版本只支持事件冒泡，它使用attachEvent()来绑定事件监听函数，事件在冒泡阶段捕获。


事件解除绑定

事件防止冒泡


```html
		<div id="js-div1" style="width: 400px; height: 200px; background-color:gray;">
			<p id="js-p1">This paragraph 1</p>
		</div>
		<script>
			var elDiv1 = document.getElementById('js-div1'),
				elP1 = document.getElementById('js-p1');
			//绑定事件
			if(window.addEventListener) { //Modern Browser	
				elDiv1.addEventListener('click', function(e) {console.log('div1c')}, true);
				elP1.addEventListener('click', function(e) {console.log('p1c')}, true);
				elDiv1.addEventListener('click', function(e) {console.log('div1b')}, false);
				elP1.addEventListener('click', function(e) {console.log('p1b')}, false);
			} else { //IE8
				elP1.attachEvent('onclick', function(e) {console.log('p1IE8')});
				elDiv1.attachEvent('onclick', function(e) {console.log('div1IE8')});
			}
			//触发事件
			if(window.dispatchEvent) { //Modern Browser
				var event = document.createEvent('HTMLEvents');
				event.initEvent('click', true, true);
				event.eventType = 'message';
				elP1.dispatchEvent(event); // 'div1c' 'p1c' 'p1b' 'div1b' (chrome)
			} else { //IE8
				var event = document.createEventObject();
				event.type = 'message';
				elP1.fireEvent('onclick', event); // 'p1IE8' 'div1IE8' (IE8)
			}
		</script>
```

```html
		<script>
			var p = document.createElement('p');
			var node = document.createTextNode('This is paragraph');			
			p.appendChild(node);
			p.setAttribute('id', 'js-p');
			p.style.fontWeight = 'bold';
			document.body.appendChild(p);
			var elP = document.getElementById('js-p');
			if(window.addEventListener) {
				elP.addEventListener('click', function(e) {
					console.log(e); // MouseEvent {...}
					console.log(e.target); //<p>...
					console.log(this); //<p>...
				});
			} else {
				elP.attachEvent('onclick', function() {
					var e = window.event;
					console.log(e); // MouseEvent {...}
					console.log(e.srcElement); // <p>...
					console.log(this); //window
				});
			}
		</script>
```


```html
		<ul id="js-ul"></ul>
		<script>
			var elUl = document.getElementById('js-ul');			
			for(var i = 1; i < 20; i++) {
				var li = document.createElement('li');
				var node = document.createTextNode('content ' + i);
				li.appendChild(node);
				li.setAttribute('id', 'li' + i);
				elUl.appendChild(li);
			}
			if(document.addEventListener) {
				elUl.addEventListener('click', handle);
			} else {
				elUl.attachEvent('onclick', handle);
			}
			function handle(event) {
				var e = event || window.event;
				var target = e.target || e.srcElement;
				if(target.tagName.toLowerCase() == 'li') {
					console.log('id: ' + target.getAttribute('id') + ', clientX ' + e.clientX + ', screenX ' + e.screenX + ', offsetX ' + e.offsetX);
				}
			}
		</script>
```










http://blog.csdn.net/yisuowushinian/article/details/45673487

http://www.itxueyuan.org/view/6338.html

http://www.jb51.net/article/93752.htm

http://blog.csdn.net/darkread/article/details/7636677

http://www.w3school.com.cn/jsref/dom_obj_event.asp

http://www.cnblogs.com/theWayToAce/p/5264613.html